<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>DataTaistat Dashboard</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Ancizar+Serif:ital,wght@0,300;0,500;0,700;1,300;1,500;1,700&display=swap" rel="stylesheet"/>

  <style>
    /* ==== GLOBAL RESET ==== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
    }
    body {
      font-family: "Ancizar Serif", serif;
      background: #f7f9fc;
      color: #333;
    }

    /* ==== NAVBAR/HAMBURGER ==== */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background-color: #0834ad;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
      z-index: 1000;
    }
    .navbar .logo {
      width: 40px;
      height: 40px;
      object-fit: cover;
      border-radius: 50%;
    }
    .hamburger {
      font-size: 1.5rem;
      color: #fff;
      cursor: pointer;
      user-select: none;
    }
    .nav-dropdown {
      position: absolute;
      top: 60px;
      right: 1rem;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 240px;
      display: none;
      flex-direction: column;
      overflow: hidden;
    }
    .nav-dropdown.active {
      display: flex;
    }
    .nav-dropdown .user-info {
      background: #f0f2ff;
      padding: 1rem;
      border-bottom: 1px solid #e0e4ff;
    }
    .nav-dropdown .user-info p {
      font-size: 0.95rem;
      color: #610c40;
      margin-bottom: 0.25rem;
      word-break: break-word;
    }
    .nav-dropdown .logout-btn {
      background: none;
      border: none;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      color: #e74c3c;
      text-align: left;
      cursor: pointer;
      transition: background 0.2s;
    }
    .nav-dropdown .logout-btn:hover {
      background: #ffe6e6;
    }

    /* ==== MAIN CONTENT AREA ==== */
    .main-container {
      margin-top: 60px; /* room for fixed navbar */
      padding: 1.5rem;
      max-width: 900px;
      margin: 0 auto;
    }
    .welcome-banner {
      font-size: 1.75rem;
      color: #043797;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    /* ==== REQUEST FORM ==== */
    .request-form {
      background: #fff;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.05);
      max-width: 600px;
      margin: 0 auto;
    }
    .request-form h2 {
      margin-bottom: 1rem;
      color: #333;
      text-align: center;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    .form-group label {
      display: block;
      margin-bottom: 0.25rem;
      color: #555;
      font-size: 0.9rem;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      outline: none;
      transition: border-color 0.2s;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #610c40;
    }
    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }
    .submit-btn {
      width: 100%;
      padding: 0.75rem;
      background: #042fbd;
      color: #fff;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 0.5rem;
      transition: background 0.2s;
    }
    .submit-btn:hover:not(:disabled) {
      background: #031b85;
    }
    .submit-btn:disabled {
      background: #014175;
      cursor: not-allowed;
    }

    @media (max-width: 600px) {
      .welcome-banner {
        font-size: 1.5rem;
      }
      .nav-dropdown {
        width: 200px;
      }
      .request-form {
        padding: 1rem;
      }
      .form-group input,
      .form-group select,
      .form-group textarea {
        padding: 0.5rem 0.75rem;
      }
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <img src="tailogo.png" alt="Taistat Logo" class="logo" />
    <div class="hamburger" id="hamburgerBtn">&#9776;</div>
    <div class="nav-dropdown" id="navDropdown">
      <div class="user-info">
        <p id="navFullName">Loading...</p>
        <p id="navEmail">Loading...</p>
      </div>
      <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>
  </nav>

  <!-- MAIN -->
  <div class="main-container">
    <div class="welcome-banner">
      Welcome, <span id="welcomeName">User</span>!
    </div>

    <form class="request-form" id="requestForm">
      <h2>Request Data / AI Services</h2>

      <div class="form-group">
        <label for="serviceType">Service Type</label>
        <select id="serviceType" required>
          <option value="">Select a service</option>
          <option value="train-data">Train Data</option>
          <option value="ai-research">AI Research</option>
          <option value="consultancy">Consultancy</option>
          <option value="train-model">Train Model</option>
          <option value="data-annotation">Data Annotation</option>
          <option value="model-evaluation">Model Evaluation</option>
          <option value="model-evaluation">Book a demo </option>
          
          <option value="other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label for="countrySelect">Country</label>
        <select id="countrySelect" required>
  <option value="">Select a country</option>
  <option value="AD">Andorra</option>
  <option value="AE">United Arab Emirates</option>
  <option value="AF">Afghanistan</option>
  <option value="AG">Antigua and Barbuda</option>
  <option value="AI">Anguilla</option>
  <option value="AL">Albania</option>
  <option value="AM">Armenia</option>
  <option value="AO">Angola</option>
  <option value="AQ">Antarctica</option>
  <option value="AR">Argentina</option>
  <option value="AS">American Samoa</option>
  <option value="AT">Austria</option>
  <option value="AU">Australia</option>
  <option value="AW">Aruba</option>
  <option value="AX">Åland Islands</option>
  <option value="AZ">Azerbaijan</option>
  <option value="BA">Bosnia and Herzegovina</option>
  <option value="BB">Barbados</option>
  <option value="BD">Bangladesh</option>
  <option value="BE">Belgium</option>
  <option value="BF">Burkina Faso</option>
  <option value="BG">Bulgaria</option>
  <option value="BH">Bahrain</option>
  <option value="BI">Burundi</option>
  <option value="BJ">Benin</option>
  <option value="BL">Saint Barthélemy</option>
  <option value="BM">Bermuda</option>
  <option value="BN">Brunei Darussalam</option>
  <option value="BO">Bolivia (Plurinational State of)</option>
  <option value="BQ">Bonaire, Sint Eustatius and Saba</option>
  <option value="BR">Brazil</option>
  <option value="BS">Bahamas</option>
  <option value="BT">Bhutan</option>
  <option value="BV">Bouvet Island</option>
  <option value="BW">Botswana</option>
  <option value="BY">Belarus</option>
  <option value="BZ">Belize</option>
  <option value="CA">Canada</option>
  <option value="CC">Cocos (Keeling) Islands</option>
  <option value="CD">Congo (Democratic Republic of the)</option>
  <option value="CF">Central African Republic</option>
  <option value="CG">Congo</option>
  <option value="CH">Switzerland</option>
  <option value="CI">Côte d'Ivoire</option>
  <option value="CK">Cook Islands</option>
  <option value="CL">Chile</option>
  <option value="CM">Cameroon</option>
  <option value="CN">China</option>
  <option value="CO">Colombia</option>
  <option value="CR">Costa Rica</option>
  <option value="CU">Cuba</option>
  <option value="CV">Cabo Verde</option>
  <option value="CW">Curaçao</option>
  <option value="CX">Christmas Island</option>
  <option value="CY">Cyprus</option>
  <option value="CZ">Czechia</option>
  <option value="DE">Germany</option>
  <option value="DJ">Djibouti</option>
  <option value="DK">Denmark</option>
  <option value="DM">Dominica</option>
  <option value="DO">Dominican Republic</option>
  <option value="DZ">Algeria</option>
  <option value="EC">Ecuador</option>
  <option value="EE">Estonia</option>
  <option value="EG">Egypt</option>
  <option value="EH">Western Sahara</option>
  <option value="ER">Eritrea</option>
  <option value="ES">Spain</option>
  <option value="ET">Ethiopia</option>
  <option value="FI">Finland</option>
  <option value="FJ">Fiji</option>
  <option value="FK">Falkland Islands (Malvinas)</option>
  <option value="FM">Micronesia (Federated States of)</option>
  <option value="FO">Faroe Islands</option>
  <option value="FR">France</option>
  <option value="GA">Gabon</option>
  <option value="GB">United Kingdom of Great Britain and Northern Ireland</option>
  <option value="GD">Grenada</option>
  <option value="GE">Georgia</option>
  <option value="GF">French Guiana</option>
  <option value="GG">Guernsey</option>
  <option value="GH">Ghana</option>
  <option value="GI">Gibraltar</option>
  <option value="GL">Greenland</option>
  <option value="GM">Gambia</option>
  <option value="GN">Guinea</option>
  <option value="GP">Guadeloupe</option>
  <option value="GQ">Equatorial Guinea</option>
  <option value="GR">Greece</option>
  <option value="GS">South Georgia and the South Sandwich Islands</option>
  <option value="GT">Guatemala</option>
  <option value="GU">Guam</option>
  <option value="GW">Guinea-Bissau</option>
  <option value="GY">Guyana</option>
  <option value="HK">Hong Kong</option>
  <option value="HM">Heard Island and McDonald Islands</option>
  <option value="HN">Honduras</option>
  <option value="HR">Croatia</option>
  <option value="HT">Haiti</option>
  <option value="HU">Hungary</option>
  <option value="ID">Indonesia</option>
  <option value="IE">Ireland</option>
  <option value="IL">Israel</option>
  <option value="IM">Isle of Man</option>
  <option value="IN">India</option>
  <option value="IO">British Indian Ocean Territory</option>
  <option value="IQ">Iraq</option>
  <option value="IR">Iran (Islamic Republic of)</option>
  <option value="IS">Iceland</option>
  <option value="IT">Italy</option>
  <option value="JE">Jersey</option>
  <option value="JM">Jamaica</option>
  <option value="JO">Jordan</option>
  <option value="JP">Japan</option>
  <option value="KE">Kenya</option>
  <option value="KG">Kyrgyzstan</option>
  <option value="KH">Cambodia</option>
  <option value="KI">Kiribati</option>
  <option value="KM">Comoros</option>
  <option value="KN">Saint Kitts and Nevis</option>
  <option value="KP">Korea (Democratic People’s Republic of)</option>
  <option value="KR">Korea (Republic of)</option>
  <option value="KW">Kuwait</option>
  <option value="KY">Cayman Islands</option>
  <option value="KZ">Kazakhstan</option>
  <option value="LA">Lao People’s Democratic Republic</option>
  <option value="LB">Lebanon</option>
  <option value="LC">Saint Lucia</option>
  <option value="LI">Liechtenstein</option>
  <option value="LK">Sri Lanka</option>
  <option value="LR">Liberia</option>
  <option value="LS">Lesotho</option>
  <option value="LT">Lithuania</option>
  <option value="LU">Luxembourg</option>
  <option value="LV">Latvia</option>
  <option value="LY">Libya</option>
  <option value="MA">Morocco</option>
  <option value="MC">Monaco</option>
  <option value="MD">Moldova (Republic of)</option>
  <option value="ME">Montenegro</option>
  <option value="MF">Saint Martin (French part)</option>
  <option value="MG">Madagascar</option>
  <option value="MH">Marshall Islands</option>
  <option value="MK">Macedonia (the former Yugoslav Republic of)</option>
  <option value="ML">Mali</option>
  <option value="MM">Myanmar</option>
  <option value="MN">Mongolia</option>
  <option value="MO">Macao</option>
  <option value="MP">Northern Mariana Islands</option>
  <option value="MQ">Martinique</option>
  <option value="MR">Mauritania</option>
  <option value="MS">Montserrat</option>
  <option value="MT">Malta</option>
  <option value="MU">Mauritius</option>
  <option value="MV">Maldives</option>
  <option value="MW">Malawi</option>
  <option value="MX">Mexico</option>
  <option value="MY">Malaysia</option>
  <option value="MZ">Mozambique</option>
  <option value="NA">Namibia</option>
  <option value="NC">New Caledonia</option>
  <option value="NE">Niger</option>
  <option value="NF">Norfolk Island</option>
  <option value="NG">Nigeria</option>
  <option value="NI">Nicaragua</option>
  <option value="NL">Netherlands</option>
  <option value="NO">Norway</option>
  <option value="NP">Nepal</option>
  <option value="NR">Nauru</option>
  <option value="NU">Niue</option>
  <option value="NZ">New Zealand</option>
  <option value="OM">Oman</option>
  <option value="PA">Panama</option>
  <option value="PE">Peru</option>
  <option value="PF">French Polynesia</option>
  <option value="PG">Papua New Guinea</option>
  <option value="PH">Philippines</option>
  <option value="PK">Pakistan</option>
  <option value="PL">Poland</option>
  <option value="PM">Saint Pierre and Miquelon</option>
  <option value="PN">Pitcairn</option>
  <option value="PR">Puerto Rico</option>
  <option value="PS">Palestine, State of</option>
  <option value="PT">Portugal</option>
  <option value="PW">Palau</option>
  <option value="PY">Paraguay</option>
  <option value="QA">Qatar</option>
  <option value="RE">Réunion</option>
  <option value="RO">Romania</option>
  <option value="RS">Serbia</option>
  <option value="RU">Russian Federation</option>
  <option value="RW">Rwanda</option>
  <option value="SA">Saudi Arabia</option>
  <option value="SB">Solomon Islands</option>
  <option value="SC">Seychelles</option>
  <option value="SD">Sudan</option>
  <option value="SE">Sweden</option>
  <option value="SG">Singapore</option>
  <option value="SH">Saint Helena, Ascension and Tristan da Cunha</option>
  <option value="SI">Slovenia</option>
  <option value="SJ">Svalbard and Jan Mayen</option>
  <option value="SK">Slovakia</option>
  <option value="SL">Sierra Leone</option>
  <option value="SM">San Marino</option>
  <option value="SN">Senegal</option>
  <option value="SO">Somalia</option>
  <option value="SR">Suriname</option>
  <option value="SS">South Sudan</option>
  <option value="ST">Sao Tome and Principe</option>
  <option value="SV">El Salvador</option>
  <option value="SX">Sint Maarten (Dutch part)</option>
  <option value="SY">Syrian Arab Republic</option>
  <option value="SZ">Eswatini</option>
  <option value="TC">Turks and Caicos Islands</option>
  <option value="TD">Chad</option>
  <option value="TF">French Southern Territories</option>
  <option value="TG">Togo</option>
  <option value="TH">Thailand</option>
  <option value="TJ">Tajikistan</option>
  <option value="TK">Tokelau</option>
  <option value="TL">Timor-Leste</option>
  <option value="TM">Turkmenistan</option>
  <option value="TN">Tunisia</option>
  <option value="TO">Tonga</option>
  <option value="TR">Türkiye</option>
  <option value="TT">Trinidad and Tobago</option>
  <option value="TV">Tuvalu</option>
  <option value="TW">Taiwan, Province of China</option>
  <option value="TZ">Tanzania, United Republic of</option>
  <option value="UA">Ukraine</option>
  <option value="UG">Uganda</option>
  <option value="UM">United States Minor Outlying Islands</option>
  <option value="US">United States of America</option>
  <option value="UY">Uruguay</option>
  <option value="UZ">Uzbekistan</option>
  <option value="VA">Holy See</option>
  <option value="VC">Saint Vincent and the Grenadines</option>
  <option value="VE">Venezuela (Bolivarian Republic of)</option>
  <option value="VG">Virgin Islands (British)</option>
  <option value="VI">Virgin Islands (U.S.)</option>
  <option value="VN">Viet Nam</option>
  <option value="VU">Vanuatu</option>
  <option value="WF">Wallis and Futuna</option>
  <option value="WS">Samoa</option>
  <option value="YE">Yemen</option>
  <option value="YT">Mayotte</option>
  <option value="ZA">South Africa</option>
  <option value="ZM">Zambia</option>
  <option value="ZW">Zimbabwe</option>
</select>

      </div>

      <div class="form-group">
        <label for="languageSelect">Preferred Language</label>
        <select id="languageSelect" required>
          <option value="">Select a language</option>
          <option value="english">English</option>
          <option value="spanish">Spanish</option>
          <option value="french">French</option>
          <option value="german">German</option>
          <option value="chinese">Chinese</option>
          <option value="japanese">Japanese</option>
          <option value="arabic">Arabic</option>
          <option value="portuguese">Portuguese</option>
          <option value="russian">Russian</option>
          <option value="swahili">Swahili</option>
        </select>
      </div>

      <div class="form-group">
        <label for="description">Description / Requirements</label>
        <textarea id="description" placeholder="Describe your request..." required></textarea>
      </div>

      <div class="form-group">
        <label for="requestEmail">Email</label>
        <input type="email" id="requestEmail" placeholder="you@example.com" required/>
      </div>

      <div class="form-group">
        <label for="requestPhone">Phone</label>
        <input type="tel" id="requestPhone" placeholder="+1234567890" required/>
      </div>

      <button type="submit" class="submit-btn" id="submitRequestBtn">Submit</button>
    </form>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";

    // Firebase init
    const firebaseConfig = {
      apiKey: "AIzaSyD6xgrttBIm9vw07xRltKsqHZNpS1jJ8xw",
      authDomain: "taistat-f0e1d.firebaseapp.com",
      projectId: "taistat-f0e1d",
      storageBucket: "taistat-f0e1d.firebasestorage.app",
      messagingSenderId: "196742294604",
      appId: "1:196742294604:web:715fe57bf6471221b898e9"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // UI refs
    const hamburgerBtn     = document.getElementById("hamburgerBtn");
    const navDropdown      = document.getElementById("navDropdown");
    const navFullName      = document.getElementById("navFullName");
    const navEmail         = document.getElementById("navEmail");
    const logoutBtn        = document.getElementById("logoutBtn");
    const welcomeName      = document.getElementById("welcomeName");

    const requestForm      = document.getElementById("requestForm");
    const submitRequestBtn = document.getElementById("submitRequestBtn");

    // Hamburger toggle
    hamburgerBtn.addEventListener("click", () => {
      navDropdown.classList.toggle("active");
    });
    window.addEventListener("click", e => {
      if (!navDropdown.contains(e.target) && e.target !== hamburgerBtn)
        navDropdown.classList.remove("active");
    });

    // Auth & user info
    onAuthStateChanged(auth, async user => {
      if (!user) return void(window.location.href = "datasign.html");
      try {
        const snap = await getDoc(doc(db, "users", user.uid));
        const data = snap.exists() ? snap.data() : { email: user.email };
        const name = [data.firstName, data.lastName].filter(Boolean).join(" ") || data.email;
        navFullName.textContent = name;
        navEmail.textContent    = data.email || user.email;
        welcomeName.textContent = name;
      } catch {
        navFullName.textContent = user.email;
        navEmail.textContent    = user.email;
        welcomeName.textContent = user.email;
      }
    });

    logoutBtn.addEventListener("click", async () => {
      await signOut(auth);
      window.location.href = "datasign.html";
    });

    // Submit without redirect
    requestForm.addEventListener("submit", e => {
      e.preventDefault();
      submitRequestBtn.disabled = true;

      const params = new URLSearchParams({
        'entry.33085555': document.getElementById("serviceType").value,
        'entry.2058193724': document.getElementById("countrySelect").value,
        'entry.422892873': document.getElementById("languageSelect").value,
        'entry.1795175534': document.getElementById("description").value,
        'entry.1121782085': document.getElementById("requestEmail").value,
        'entry.969825703': document.getElementById("requestPhone").value
      });

      fetch(
        'https://docs.google.com/forms/d/e/1FAIpQLSdaj7uISCNoZCz3GzjxHq68kWRE4D1G27BdKtgihFcXY9BJQg/formResponse',
        {
          method: 'POST',
          mode: 'no-cors',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: params.toString()
        }
      ).then(() => {
        alert('Your response has been sent!');
        requestForm.reset();
        submitRequestBtn.disabled = false;
      }).catch(() => {
        alert('Error sending response.');
        submitRequestBtn.disabled = false;
      });
    });
  </script>
</body>
</html>
